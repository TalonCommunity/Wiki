"use strict";(self.webpackChunktalon_wiki=self.webpackChunktalon_wiki||[]).push([[7802],{2536:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"Resource Hub/Speech Recognition/troubleshooting","title":"Troubleshooting","description":"Nothing Happens When I Speak","source":"@site/docs/Resource Hub/Speech Recognition/troubleshooting.md","sourceDirName":"Resource Hub/Speech Recognition","slug":"/Resource Hub/Speech Recognition/troubleshooting","permalink":"/Resource Hub/Speech Recognition/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/TalonCommunity/Wiki/edit/main/docs/Resource Hub/Speech Recognition/troubleshooting.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"ResourceHubSidebar","previous":{"title":"Improving Recognition Accuracy","permalink":"/Resource Hub/Speech Recognition/improving_recognition_accuracy"},"next":{"title":"Running Mac or Linux Talon Using Windows Dragon","permalink":"/Resource Hub/Speech Recognition/Running-Linux-or-Mac-Talon-Using-Windows-Dragon"}}');var t=n(4848),s=n(8453);const a={sidebar_position:7},r="Troubleshooting",c={},h=[{value:"Nothing Happens When I Speak",id:"nothing-happens-when-i-speak",level:2},{value:"Check Your Microphone",id:"check-your-microphone",level:3},{value:"Check that Talon is Running",id:"check-that-talon-is-running",level:3},{value:"Check that Talon is Awake",id:"check-that-talon-is-awake",level:3},{value:"Check that Talon is using the Correct Microphone",id:"check-that-talon-is-using-the-correct-microphone",level:3},{value:"Talon seems to do the wrong thing",id:"talon-seems-to-do-the-wrong-thing",level:2},{value:"Check the Quality of the Sound Input",id:"check-the-quality-of-the-sound-input",level:3},{value:"Check the Gain",id:"check-the-gain",level:3},{value:"Check that Talon is in the correct mode",id:"check-that-talon-is-in-the-correct-mode",level:3},{value:"Check your Speech Engine",id:"check-your-speech-engine",level:3},{value:"Check your Talon user file sets",id:"check-your-talon-user-file-sets",level:3},{value:"Check out Tips for Improving Accuracy",id:"check-out-tips-for-improving-accuracy",level:3},{value:"Check the Talon Logs",id:"check-the-talon-logs",level:3}];function l(e){const o={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:n}=o;return n||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,t.jsx)(o.h2,{id:"nothing-happens-when-i-speak",children:"Nothing Happens When I Speak"}),"\n",(0,t.jsxs)(o.p,{children:["If you are testing your setup with one of the ",(0,t.jsx)(o.a,{href:"../../Basic%20Usage/basic_usage",children:"basic commands"})," and getting no response at all, first check a few fundamentals to help focus the troubleshooting. There are a number of issues at different layers of the setup that could be causing the problem. Your first few steps should help narrow the focus."]}),"\n",(0,t.jsx)(o.h3,{id:"check-your-microphone",children:"Check Your Microphone"}),"\n",(0,t.jsx)(o.p,{children:"Your microphone is critical to your setup. If your microphone isn't working, then none of your voice commands will either. Testing this piece early may save you some time and help narrow down your troubleshooting to either hardware (microphone, audio interface, cables, etc) or software (Talon, Talon configuration, speech engine, etc)."}),"\n",(0,t.jsx)(o.p,{children:"Check that your computer is using the correct microphone and receiving sound input."}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{role:"button",children:"Mac"}),(0,t.jsx)("p",{children:(0,t.jsx)(o.p,{children:"Open System Preferences > Sound > Input. Check that the correct input device is selected and speak into the microphone. Watch the Input level as you speak; you should see the level rising and falling."})}),(0,t.jsx)("img",{src:"/img/sound_input_mac.gif",alt:"gif of sound input window in system preferences on a Mac with input level moving"})]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{role:"button",children:"Windows"}),(0,t.jsx)("p",{children:(0,t.jsx)(o.p,{children:"Select Start > Settings > System > Sound. In Sound settings, go to Input > Test your microphone. Verify that the correct input device is selected and speak into the microphone. Look for a blue bar that should rise and fall as you speak."})})]}),"\n",(0,t.jsx)(o.p,{children:"If you are not receiving any sound input, check your ancillary microphone equipment (cables, interfaces, preamps, etc.)."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Check your cables and connections."}),"\n",(0,t.jsxs)(o.li,{children:["Check your adapters and/or audio interfaces if you are using them. Examples: Shure X2U XLR-to-USB signal adapter or the DPA d",":vice"," mobile audio interface. Check that they are connected properly and check any settings on the device, e.g., volume, gain, etc."]}),"\n",(0,t.jsx)(o.li,{children:"Ensure your microphone is not muted."}),"\n",(0,t.jsx)(o.li,{children:"Ensure that the microphone is pointed at the mouth. This points the axis of maximum sensitivity toward your mouth for best voice isolation (reducing background noise). Some microphones require more careful placement than others."}),"\n",(0,t.jsx)(o.li,{children:"Place the microphone at a consistent distance away from your mouth. For headset microphones, most speech recognition documentation recommends that you place the boom of the microphone approximately one inch from your face, pointed at a side corner of your mouth. For table microphones, somewhere between six and twelve inches works best (unlike a radio moderator, you do not need to eat the mic). A proper placement eliminates wind noises from breathing and loud sounds."}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"check-that-talon-is-running",children:"Check that Talon is Running"}),"\n",(0,t.jsx)(o.p,{children:"After you have started the Talon application, look for the Talon icon in the menubar."}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{role:"button",children:"Mac"}),(0,t.jsx)("p",{children:(0,t.jsx)(o.p,{children:"Talon's icon should show up in the menu bar in the upper right corner of your screen:"})}),(0,t.jsx)("img",{src:"/img/talon_menubar_awake.png",alt:"screenshot of the desktop on a mac showint the Talon icon in the top right menubar"})]}),"\n",(0,t.jsx)(o.h3,{id:"check-that-talon-is-awake",children:"Check that Talon is Awake"}),"\n",(0,t.jsxs)(o.p,{children:["When Talon is running, it will be in one of a few different ",(0,t.jsx)(o.a,{href:"../../Basic%20Usage/basic_usage",children:"modes"}),". One of these modes is a ",(0,t.jsx)(o.code,{children:"sleep"})," mode, which will put Talon in a dormant state where it is listening but not responding to commands. While asleep, Talon will only respond to a minimal set of commands, such as ",(0,t.jsx)(o.code,{children:"wake up"}),", which will put Talon out of sleep and enable Talon to respond to commands."]}),"\n",(0,t.jsx)(o.p,{children:"If you are trying to use Talon commands and Talon is not responding, make sure Talon is not in sleep mode. The Talon icon in the menubar provides some visual cue as to what mode Talon is in:"}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{role:"button",children:"Mac"}),(0,t.jsx)("img",{src:"/img/talon_menubar_awake.png",alt:"screenshot of the desktop on a mac showint the Talon icon in the top right menubar"}),(0,t.jsx)("img",{src:"/img/talon_menubar_asleep.png",alt:"screenshot of the desktop on a mac showint the Talon icon in the top right menubar"})]}),"\n",(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.strong,{children:"Note:"})," Depending on your version of Talon, this icon may use color to indicate awake/asleep (green=awake, red=asleep) instead of the slash as pictured above. The slash is used in newer versions."]}),"\n",(0,t.jsxs)(o.p,{children:["You can also check the mode by clicking the icon and looking for which mode is set under ",(0,t.jsx)(o.code,{children:"Speech Recognition"}),"."]}),"\n",(0,t.jsx)(o.h3,{id:"check-that-talon-is-using-the-correct-microphone",children:"Check that Talon is using the Correct Microphone"}),"\n",(0,t.jsx)(o.p,{children:"You can check that Talon is using the correct microphone by clicking the Talon icon in the menu bar."}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{role:"button",children:"Mac"}),(0,t.jsx)("p",{children:(0,t.jsx)(o.p,{children:"Talon's icon should show up in the menu bar in the upper right corner of your screen:"})}),(0,t.jsx)("img",{src:"/img/talon_menu_microphone.png",alt:"screenshot of the desktop on a mac showing the Talon microphone menu"})]}),"\n",(0,t.jsxs)(o.p,{children:["You can also check which which microphone is selected by looking in the Talon logs, which are located in ",(0,t.jsx)(o.code,{children:"~/.talon/talon.log"}),". Look for a log that looks like this:"]}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.code,{children:'2020-03-04 15:27:53  INFO Activating Microphone: "Yeti Nano Analogue Stereo"'})}),"\n",(0,t.jsx)(o.p,{children:"If it's the wrong one, use the menu in the app tray to change it."}),"\n",(0,t.jsx)(o.h2,{id:"talon-seems-to-do-the-wrong-thing",children:"Talon seems to do the wrong thing"}),"\n",(0,t.jsx)(o.h3,{id:"check-the-quality-of-the-sound-input",children:"Check the Quality of the Sound Input"}),"\n",(0,t.jsxs)(o.p,{children:["If your computer is receiving sound input, that doesn't necessarily mean the sound is of good quality. To confirm the sound quality, make a recording of yourself saying Talon commands and play it back. There should be no distortion of the sound and it should be at an optimum volume (not too loud, not too quiet). If you hear any distortion or the volume seems too low or high, check the microphone ",(0,t.jsx)(o.a,{href:"troubleshooting#check-the-gain",children:"gain"}),"."]}),"\n",(0,t.jsx)(o.h3,{id:"check-the-gain",children:"Check the Gain"}),"\n",(0,t.jsxs)(o.p,{children:["If you are new to using microphone equipment and are not familiar with microphone gain, check out this podcasting blog ",(0,t.jsx)(o.a,{href:"https://podcastarticles.com/what-is-microphone-gain/",children:"What is microphone gain?"}),". In simple terms, gain is the ",(0,t.jsx)(o.em,{children:"input"})," volume of your audio. If the gain is too low, the audio will sound very quiet and Talon may cut you off or hear you at all. If the gain is too high, then sound may get distorted by ",(0,t.jsx)(o.a,{href:"https://youtu.be/8Px0UReBI60",children:"clipping"})," and Talon may not understand your commands."]}),"\n",(0,t.jsx)(o.p,{children:"One way to test your gain settings is to make an audio recording and listen to how it sounds. The sound should not be overly quiet nor should it sound like you are shouting. Listen for clipping distortions and reduce the gain until there are no distortions."}),"\n",(0,t.jsxs)(o.p,{children:["One tool to make a recording is ",(0,t.jsx)(o.a,{href:"https://www.audacityteam.org",children:"Audacity"}),", a free and open-source audio editor and recorder that supports Windows, macOS, GNU/Linux. To make a recording with Audacity:"]}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Install and start ",(0,t.jsx)(o.em,{children:"Audacity"}),","]}),"\n",(0,t.jsx)(o.li,{children:"set the correct microphone, and"}),"\n",(0,t.jsxs)(o.li,{children:["press ",(0,t.jsx)(o.em,{children:"Record"}),', utter an upbeat "Hello there!", and stop the recording.']}),"\n",(0,t.jsx)(o.li,{children:"Listen to the playback: Your voice should sound clear. If it's too low, increase the gain, if it's distorted, reduce it."}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Some audio recording software may also provide visual feedback about whether your gain is at the right level. Look for waveforms that react to your voice. The waveforms should be as big as possible without maxing out."}),"\n",(0,t.jsx)(o.p,{children:"Each microphone and piece of ancillary microphone equipment (audio interface, preamp, audio adapter, etc.) will have a different personality. Because of that, trust your ears more than the dB reading or the graph of Audacity."}),"\n",(0,t.jsx)(o.h3,{id:"check-that-talon-is-in-the-correct-mode",children:"Check that Talon is in the correct mode"}),"\n",(0,t.jsxs)(o.p,{children:["Talon user file sets can be configured to have multiple modes, which will have a different set of functionality. Most commonly, like in the ",(0,t.jsx)(o.a,{href:"https://github.com/talonhub/community",children:"Talon Community"})," user file set, there will be two modes: command mode and dictation mode. In command mode, your speech will be mapped to the commands you have configured in your user file set. In dictation mode, your speech will be typed out literally, which is useful if you want to dictate text, like in an email or document."]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:'Use dictation mode for free-form speech dictation, like writing an email. (Switch by saying "dictation mode".)'}),"\n",(0,t.jsx)(o.li,{children:'Use command mode for everything else, including dictating individual letters using the alphabet or writing code. (Switch by saying "command mode".)'}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"check-your-speech-engine",children:"Check your Speech Engine"}),"\n",(0,t.jsxs)(o.p,{children:["Check that your speech engine has been initialized by looking in the ",(0,t.jsx)(o.a,{href:"troubleshooting#check-the-talon-logs",children:"talon log file"})," You should see a line that looks like this:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:"2020-03-04 15:28:05  INFO (SpeechSystem) Activating speech engine: W2lEngine(en_US)\n"})}),"\n",(0,t.jsx)(o.h3,{id:"check-your-talon-user-file-sets",children:"Check your Talon user file sets"}),"\n",(0,t.jsxs)(o.p,{children:["Check you have some valid commands in ",(0,t.jsx)(o.code,{children:"~/.talon/user"}),". If it's empty, install the ",(0,t.jsx)(o.a,{href:"https://github.com/talonhub/community",children:"Talon Community"})," user file set and test with some ",(0,t.jsx)(o.a,{href:"../../Basic%20Usage/basic_usage",children:"basic commands"}),". Install the entire repository, not just individual files. This user file set can be combined with other Talon user file sets, though it is common that most of the functionality will be provided by ",(0,t.jsx)(o.a,{href:"https://github.com/talonhub/community",children:"Talon Community"}),". Additional file sets are commonly used to customize the default behavior provided by ",(0,t.jsx)(o.a,{href:"https://github.com/talonhub/community",children:"Talon Community"})," or add additional features not already included."]}),"\n",(0,t.jsxs)(o.p,{children:["Talon automatically tracks changes to files in ",(0,t.jsx)(o.code,{children:"~/.talon/user"}),", so that one can change scripts on the fly. This breaks if ",(0,t.jsx)(o.code,{children:"~/.talon"})," (or any other part of the path) is a symlink."]}),"\n",(0,t.jsx)(o.h3,{id:"check-out-tips-for-improving-accuracy",children:"Check out Tips for Improving Accuracy"}),"\n",(0,t.jsxs)(o.p,{children:["If commands are intermittently working, check out these tips for ",(0,t.jsx)(o.a,{href:"improving_recognition_accuracy",children:"improving accuracy"}),"."]}),"\n",(0,t.jsx)(o.h3,{id:"check-the-talon-logs",children:"Check the Talon Logs"}),"\n",(0,t.jsxs)(o.p,{children:["Talon emits debug information to a log file in your Talon home directory, Windows: ",(0,t.jsx)(o.code,{children:"%APPDATA%\\Talon"})," Mac: ",(0,t.jsx)(o.code,{children:"~/.talon"}),". Look for a file with the ",(0,t.jsx)(o.code,{children:".log"})," extension, probably named ",(0,t.jsx)(o.code,{children:"talon.log"}),". The logs will contain useful debug information, like the Talon version or which microphone Talon is using. Syntax errors will also show up in these logs, which make them useful for debugging your Talon user file sets."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{children:'2021-04-10 17:56:28  INFO Activating Microphone: "d:vice MMA-A"\n2021-04-10 15:19:58 DEBUG Talon Version: 0.1.5\n'})})]})}function d(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>a,x:()=>r});var i=n(6540);const t={},s=i.createContext(t);function a(e){const o=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:o},e.children)}}}]);