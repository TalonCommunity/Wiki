<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Customization/basic_customization" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Basic customization | Talon Community Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://talon.wiki/img/logos/talon-community-logo-social.png"><meta data-rh="true" name="twitter:image" content="https://talon.wiki/img/logos/talon-community-logo-social.png"><meta data-rh="true" property="og:url" content="https://talon.wiki/Customization/basic_customization"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Basic customization | Talon Community Wiki"><meta data-rh="true" name="description" content="Once you have successfully set up Talon you may find that you would like to change some of how it behaves at a basic level."><meta data-rh="true" property="og:description" content="Once you have successfully set up Talon you may find that you would like to change some of how it behaves at a basic level."><link data-rh="true" rel="icon" href="/img/logos/talon-community-logo.png"><link data-rh="true" rel="canonical" href="https://talon.wiki/Customization/basic_customization"><link data-rh="true" rel="alternate" href="https://talon.wiki/Customization/basic_customization" hreflang="en"><link data-rh="true" rel="alternate" href="https://talon.wiki/Customization/basic_customization" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bfe7b07d.css">
<script src="/assets/js/runtime~main.2a721ecc.js" defer="defer"></script>
<script src="/assets/js/main.854a1af8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/talon-community-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logos/talon-community-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a class="navbar__item navbar__link" href="/Basic Usage/basic_usage">Basic Usage</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Customization/basic_customization">Customization</a><a class="navbar__item navbar__link" href="/Integrations/essential-tools">Integrations</a><a class="navbar__item navbar__link" href="/Resource Hub/Hardware/">Resource Hub</a><a class="navbar__item navbar__link" href="/explorer">Repository Explorer</a><a class="navbar__item navbar__link" href="/Help/FAQ">Help</a><a class="navbar__item navbar__link" href="/Voice Coding/voice-coding-overview">Voice Coding</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/TalonCommunity/Wiki/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logos/talon-community-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logos/talon-community-logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Home</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Customization/basic_customization">Basic customization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Customization/talon-files">.talon Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Customization/talon_lists">.talon-list Files</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Customization/Talon Framework/talon-framework-overview">Talon Framework</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Customization/Talon Library Reference/key_action">Talon Library Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Customization/misc-tips">Tips and tricks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Customization/Examples/canvas">Examples</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Basic customization</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Basic customization</h1></header>
<p>Once you have successfully <a href="/Resource Hub/Talon Installation/installation_guide">set up Talon</a> you may find that you would like to change some of how it behaves at a basic level.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="customization-overview">Customization overview<a href="#customization-overview" class="hash-link" aria-label="Direct link to Customization overview" title="Direct link to Customization overview">​</a></h2>
<p>All customization consists of files with <code>.talon</code> or <code>.py</code> file extensions placed in the Talon user directory. The Talon user directory is where you put the <a href="https://github.com/talonhub" target="_blank" rel="noopener noreferrer">Talon Community</a> user file set (<code>~/.talon/user/</code> on MacOS/Linux, <code>%APPDATA%\Talon\user</code> on Windows). Talon doesn&#x27;t care how you organize your files within this directory, any subdirectories or file names are just there to make things easier to understand for you and others.</p>
<p>So why do we have two kinds of configuration/scripting files (<code>.py</code> and <code>.talon</code>)?</p>
<ul>
<li><code>.talon</code> files provide a succinct way of mapping spoken commands to behaviour. <code>.talon</code> files are written in a language that is only used by Talon.<!-- -->
<ul>
<li><code>.talon</code> files are designed to be simple and to provide good feedback if you make mistakes.</li>
</ul>
</li>
<li><code>.py</code> files are Python scripts that provide the implementation of behaviour and other functionality used by <code>.talon</code> files.<!-- -->
<ul>
<li>You do not need to customize Python or know how to code to use Talon</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managing-your-customizations">Managing your customizations<a href="#managing-your-customizations" class="hash-link" aria-label="Direct link to Managing your customizations" title="Direct link to Managing your customizations">​</a></h2>
<p>Talon is built to be a flexible and customizable system. This means that in addition to being able to add new voice commands you can also override the behavior of existing commands reasonably easily.</p>
<p>Given this flexibility, there are two ways you could approach customizing your Talon setup:</p>
<ul>
<li>Option A: Edit the <code>.talon</code> and <code>.py</code> files from the <a href="https://github.com/talonhub/community" target="_blank" rel="noopener noreferrer">Talon Community</a> directly.<!-- -->
<ul>
<li>Can be easier to begin with, but may be difficult to keep up-to-date with upstream.</li>
<li>You need to work out what you modified and how to re-apply it to the <a href="https://github.com/talonhub/community" target="_blank" rel="noopener noreferrer">Talon Community</a> user file set every time you update it.</li>
</ul>
</li>
<li>Option B: Maintain your own separate directory with your customizations that sits alongside the <a href="https://github.com/talonhub/community" target="_blank" rel="noopener noreferrer">Talon Community</a>. (<strong>Recommended</strong>)<!-- -->
<ul>
<li>The screenshot below shows a Talon user directory with multiple user file sets. The <code>community</code> directory contains the <a href="https://github.com/talonhub/community" target="_blank" rel="noopener noreferrer">Talon Community</a> unchanged from the version on GitHub. The rest of the folders are other file sets that supplement the Talon Community file set.</li>
<li>For example, <code>my_talon</code> contains personal customizations, and <code>curserless-talon</code> contains the <a href="https://github.com/cursorless-dev/cursorless" target="_blank" rel="noopener noreferrer">Cursorless</a>.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Screen shot of Talon user directory" src="/assets/images/talon_user_folders-3e929373652174fcf9cdfcaac631f190.png" width="781" height="124" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="backups">Backups<a href="#backups" class="hash-link" aria-label="Direct link to Backups" title="Direct link to Backups">​</a></h3>
<p>You will probably want to update your Talon Community user file set occasionally in order to pick up new features and bug fixes. Unfortunately changing Talon Commmunity may also sometimes add new bugs! If this happens you might want to go back the older version so you can keep working. Use <code>git</code> if you are familiar, and if you&#x27;re not, then just making a <code>.zip</code> backup of the whole Talon user directory prior to making a potentially significant change also works.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-simple-talon-file">A simple .talon file<a href="#a-simple-talon-file" class="hash-link" aria-label="Direct link to A simple .talon file" title="Direct link to A simple .talon file">​</a></h2>
<p>Let&#x27;s make a new voice command that presses the key combination <code>cmd+a</code> or <code>control+a</code> when you say &quot;select everything&quot;.</p>
<p>Open up a text editor and save an empty file called <code>simple_test.talon</code> somewhere in your Talon user directory. Next, right-click on the Talon icon in your status bar, choose &#x27;Scripting&#x27;, and then &#x27;View log&#x27;. This will show a list of log messages from Talon, and in particular, will be where Talon tells us if there&#x27;s a problem with what we write in <code>simple_test.talon</code>.</p>
<p>OK, let&#x27;s get to defining the command. If you&#x27;re running MacOS, copy/paste the following into your editor and save the file (ensure you have the spaces at the start of the &#x27;key&#x27; line):</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">select everything</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#8839EF;--shiki-dark:#C6A0F6">cmd</span><span style="color:#179299;--shiki-dark:#8BD5CA">-</span><span style="color:#E64553;font-style:italic;--shiki-dark:#EE99A0;--shiki-dark-font-style:italic">a</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span></code></pre>
<p>If you&#x27;re on Windows or Linux you can use this instead:</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">select everything</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#8839EF;--shiki-dark:#C6A0F6">ctrl</span><span style="color:#179299;--shiki-dark:#8BD5CA">-</span><span style="color:#E64553;font-style:italic;--shiki-dark:#EE99A0;--shiki-dark-font-style:italic">a</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span></code></pre>
<p>You should see a line like <code>2021-09-02 17:33:36 DEBUG [+] /home/normal/.talon/user/mystuff/simple_test.talon</code> printed in your Talon log. This indicates that Talon has picked up your new/updated file and has loaded it. In general, Talon will automatically pick up and apply any changes to <code>.talon</code> or <code>.py</code> files in your Talon user directory, so you don&#x27;t have to restart Talon each time you make a change. If you don&#x27;t see a line like that and can&#x27;t figure it out, then you might want to ask for help on the <a href="https://talonvoice.com/chat" target="_blank" rel="noopener noreferrer">Talon slack</a> in the #help channel.</p>
<p>Your command should now be defined, so if you focus your text editor and say &quot;select everything&quot; it should indeed select everything.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="error-messages">Error messages<a href="#error-messages" class="hash-link" aria-label="Direct link to Error messages" title="Direct link to Error messages">​</a></h3>
<p>OK, let&#x27;s now deliberately introduce an error so we can see how Talon tells us about that. Edit your file and remove the final &#x27;)&#x27; character so the last line is &quot; key(cmd-a&quot; or &quot; key(ctrl-a&quot;. Save the file and look at your Talon log. For me, Talon writes out the following:</p>
<pre><code>    2021-09-02 17:46:02 DEBUG [-] /home/normal/.talon/user/simple_test.talon
    2021-09-02 17:46:02 DEBUG [+] /home/normal/.talon/user/simple_test.talon
    2021-09-02 17:46:02 ERROR     8:                         talon/scripting/talon_script.py:705|
        7:                lib/python3.9/site-packages/lark/lark.py:561|
        6:    lib/python3.9/site-packages/lark/parser_frontends.py:107|
        5: lib/python3.9/site-packages/lark/parsers/lalr_parser.py:41 |
        4: lib/python3.9/site-packages/lark/parsers/lalr_parser.py:171|
        3: lib/python3.9/site-packages/lark/parsers/lalr_parser.py:188|
        2: lib/python3.9/site-packages/lark/parsers/lalr_parser.py:182|
        1: lib/python3.9/site-packages/lark/parsers/lalr_parser.py:129|
    lark.exceptions.UnexpectedToken: Unexpected token Token(&#x27;$END&#x27;, &#x27;&#x27;) at line 1, column 5.
    Expected one of:
        * RPAR


        1: lib/python3.9/site-packages/lark/parsers/lalr_parser.py:126|
    KeyError: &#x27;$END&#x27;

    [The below error was raised while handling the above exception(s)]
    2021-09-02 17:46:02 ERROR Failed to parse TalonScript in &quot;user.simple_test.talon&quot; for &quot;select everything&quot;
       16:      lib/python3.9/threading.py:912* # cron thread
       15:      lib/python3.9/threading.py:954*
       14:      lib/python3.9/threading.py:892*
       13:                   talon/cron.py:155|
       12:                   talon/cron.py:106|
       11:                     talon/fs.py:64 |
       10:                     talon/fs.py:57 |
        9:         talon/scripting/rctx.py:233| # &#x27;fs&#x27; main:on_change()
        8:         app/resources/loader.py:689|
        7:         app/resources/loader.py:639|
        6:         app/resources/loader.py:517|
        5:         app/resources/loader.py:501|
        4:      talon/scripting/context.py:520|
        3:      talon/scripting/context.py:436| # [stack splice]
        2: talon/scripting/talon_script.py:719|
        1: talon/scripting/talon_script.py:713|
    talon.scripting.talon_script.CompileError:   Line: 1, Column: 5 - unexpected token
          key(ctrl-a
              ^
      Expected: )
     in script at /home/normal/.talon/user/simple_test.talon:2:
      key(ctrl-a
</code></pre>
<p>So that&#x27;s quite a lot of output. The useful bit is at the bottom:</p>
<pre><code>    talon.scripting.talon_script.CompileError:   Line: 1, Column: 5 - unexpected token
          key(ctrl-a
              ^
      Expected: )
     in script at /home/normal/.talon/user/simple_test.talon:2:
      key(ctrl-a
</code></pre>
<p>You can see it has the &quot;in script at /home/normal/.talon/user/simple_test.talon:2:&quot; line. This tells us the file the problem occurred in, and also the (maybe approximate) line number the problem was on, &#x27;2&#x27; in our case. There is also some suggestive text indicating that Talon was expecting a &#x27;)&#x27; character. The error message you get will depend on the problem with what you&#x27;ve written, but it should always tell you which file has the problem in it, and also the approximate line the problem was on.</p>
<p>OK, we&#x27;re finished with this file now so you can delete it.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="talon-file-syntax">.talon file syntax<a href="#talon-file-syntax" class="hash-link" aria-label="Direct link to .talon file syntax" title="Direct link to .talon file syntax">​</a></h2>
<p>Talon files look something like this:</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">title</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">: </span><span style="color:#40A02B;font-style:italic;--shiki-dark:#A6DA95;--shiki-dark-font-style:italic">/Gmail/</span></span>
<span class="line"><span style="color:#4C4F69;--shiki-dark:#CAD3F5">-</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7C7F93;font-style:italic;--shiki-dark:#939AB7;--shiki-dark-font-style:italic"># Define a voice command with an associated function</span></span>
<span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">find on page</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">: </span><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#8839EF;--shiki-dark:#C6A0F6">ctrl</span><span style="color:#179299;--shiki-dark:#8BD5CA">-</span><span style="color:#E64553;font-style:italic;--shiki-dark:#EE99A0;--shiki-dark-font-style:italic">f</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">reload page</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#8839EF;--shiki-dark:#C6A0F6">ctrl</span><span style="color:#179299;--shiki-dark:#8BD5CA">-</span><span style="color:#E64553;font-style:italic;--shiki-dark:#EE99A0;--shiki-dark-font-style:italic">r</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">insert bold text</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#8839EF;--shiki-dark:#C6A0F6">ctrl</span><span style="color:#179299;--shiki-dark:#8BD5CA">-</span><span style="color:#E64553;font-style:italic;--shiki-dark:#EE99A0;--shiki-dark-font-style:italic">b</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    insert</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#40A02B;font-style:italic;--shiki-dark:#A6DA95;--shiki-dark-font-style:italic">type in this text (it will be bolded)</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#8839EF;--shiki-dark:#C6A0F6">ctrl</span><span style="color:#179299;--shiki-dark:#8BD5CA">-</span><span style="color:#E64553;font-style:italic;--shiki-dark:#EE99A0;--shiki-dark-font-style:italic">b</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span></code></pre>
<p>The part above the &#x27;-&#x27; line is called the &quot;context header&quot; and the part below is the &quot;body&quot;. The context header decides under what circumstances the rest of the file will be active. The body defines voice commands and other behaviour.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="context-header">Context header<a href="#context-header" class="hash-link" aria-label="Direct link to Context header" title="Direct link to Context header">​</a></h3>
<p>The context header defines when the rest of the file will be active.</p>
<p>In this example, our context header says that the file is only active when the word &#x27;Gmail&#x27; is in the window title. The context header is optional; if it is not included (as in our simple_test.talon example) then the file is always active.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="body">Body<a href="#body" class="hash-link" aria-label="Direct link to Body" title="Direct link to Body">​</a></h3>
<p>The body can have several kinds of content. Most often you&#x27;ll be defining voice commands, so that&#x27;s all we&#x27;ll talk about here.</p>
<p>Voice commands start with the actual words you want to speak followed by a &#x27;:&#x27; character. They then list out all the actions you want to perform as a result of that command. If you only want to perform a single action then you can put it on a single line as in the first &#x27;find on page&#x27; command. If you have more than one action you must put each action on its own line. The actions associated with a command must be indented with spaces, but it doesn&#x27;t matter how many you use. Separate voice commands with one or more blank lines.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="actions-in-talon-files">Actions in .talon files<a href="#actions-in-talon-files" class="hash-link" aria-label="Direct link to Actions in .talon files" title="Direct link to Actions in .talon files">​</a></h3>
<p>You might have noticed that we&#x27;ve been using the key() and insert() actions in the example files so far. There are a number of built in actions, and extra actions can be defined in <code>.py</code> files. To get a complete list of defined actions you can do the following:</p>
<ol>
<li>Right click on the Talon icon in your status bar, choose scripting, and then &#x27;Console (REPL)&#x27;. This will open a terminal window where you type Python commands and the results of those commands are printed out.</li>
<li>Type <code>actions.list()</code> and press enter. This will list out all the available actions.</li>
<li>You might like to look at this list of actions in your text editor (so you can search them, for example). To put the full list into your clipboard, copy and paste this code into the Talon console and press enter:</li>
</ol>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#8839EF;--shiki-dark:#C6A0F6">import</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5"> io;old=sys</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">stdout;sys</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">stdout = io</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;--shiki-dark:#8AADF4">StringIO</span><span style="color:#7C7F93;--shiki-dark:#939AB7">()</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">;actions</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;--shiki-dark:#8AADF4">list</span><span style="color:#7C7F93;--shiki-dark:#939AB7">()</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">;clip</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;--shiki-dark:#8AADF4">set_text</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">sys</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">stdout</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;--shiki-dark:#8AADF4">getvalue</span><span style="color:#7C7F93;--shiki-dark:#939AB7">())</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">;sys</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">stdout = old</span></span></code></pre>
<p>Some of the more useful actions are:</p>
<ul>
<li><code>key(ctrl-a)</code> - Presses the keys within the parentheses. See the &#x27;Add new keyboard shortcuts&#x27; recipe below for some more info about using this action.</li>
<li><code>insert(&quot;my text&quot;)</code> - Types in the text &quot;my text&quot;</li>
<li><code>sleep(100ms)</code> - Waits for 100 milliseconds. This can be useful if you need to wait for your target application to do something. Don&#x27;t make the sleep too long because Talon will not respond to voice commands while sleeping.</li>
<li><code>mouse_move(100, 200)</code> - Moves the mouse to screen coordinates 100 pixels from the left and 200 from the top.</li>
<li><code>mouse_scroll(0, -10)</code> - Scrolls the mouse 10 &#x27;units&#x27; to the left. <code>mouse_scroll(10)</code> would scroll the mouse 10 &#x27;units&#x27; down. Note that the arguments are y, x rather than x, y.</li>
<li><code>mouse_click(0)</code> - Clicks the left mouse button at the cursor. <code>mouse_click(1)</code> right clicks.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recipes">Recipes<a href="#recipes" class="hash-link" aria-label="Direct link to Recipes" title="Direct link to Recipes">​</a></h2>
<p>If you&#x27;ve read the above you should have some idea of how to make customizations to Talon, particularly using <code>.talon</code> files. This section contains a recipe list of some common/instructive customizations you might like to make.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="add-new-keyboard-shortcuts">Add new keyboard shortcuts<a href="#add-new-keyboard-shortcuts" class="hash-link" aria-label="Direct link to Add new keyboard shortcuts" title="Direct link to Add new keyboard shortcuts">​</a></h3>
<p>Often you will want to add a new voice command to press an application-specific keyboard shortcut. Let&#x27;s choose the YouTube webpage as our example. The following <code>.talon</code> file defines two new voice commands:</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">title</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">: </span><span style="color:#40A02B;font-style:italic;--shiki-dark:#A6DA95;--shiki-dark-font-style:italic">/YouTube/</span></span>
<span class="line"><span style="color:#4C4F69;--shiki-dark:#CAD3F5">-</span></span>
<span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">toggle play</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">: </span><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#40A02B;font-style:italic;--shiki-dark:#A6DA95;--shiki-dark-font-style:italic">space</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">search cats</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#40A02B;font-style:italic;--shiki-dark:#A6DA95;--shiki-dark-font-style:italic">/</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    sleep</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#FE640B;font-style:italic;--shiki-dark:#F5A97F;--shiki-dark-font-style:italic">100</span><span style="color:#E64553;font-style:italic;--shiki-dark:#EE99A0;--shiki-dark-font-style:italic">ms</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    insert</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#40A02B;font-style:italic;--shiki-dark:#A6DA95;--shiki-dark-font-style:italic">cats</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    key</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#40A02B;font-style:italic;--shiki-dark:#A6DA95;--shiki-dark-font-style:italic">enter</span><span style="color:#40A02B;--shiki-dark:#A6DA95">&quot;</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span></code></pre>
<p>These commands only apply when the window title has &quot;YouTube&quot; in it. &quot;search cats&quot; first presses the &quot;/&quot; key to focus the YouTube search box, then waits 100 milliseconds to make sure it has been focussed, then types in &quot;cats&quot; and presses enter.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="slow-down-key-presses">Slow down key presses<a href="#slow-down-key-presses" class="hash-link" aria-label="Direct link to Slow down key presses" title="Direct link to Slow down key presses">​</a></h3>
<p>A reasonably common problem that comes up when using Talon with computer games is that the application only recognizes key presses intermittently or not at all. This can be because Talon presses and releases the keys too quickly. The following <code>.talon</code> file makes Talon hold down each key for 32 milliseconds before releasing it. You could try increasing the key_hold value incrementally to find the smallest length of time you need to hold for the key to be recognized reliably:</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">app.exe</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">: my_game.exe</span></span>
<span class="line"><span style="color:#4C4F69;--shiki-dark:#CAD3F5">-</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">settings</span><span style="color:#7C7F93;--shiki-dark:#939AB7">()</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#4C4F69;--shiki-dark:#CAD3F5">    key_hold</span><span style="color:#179299;--shiki-dark:#8BD5CA"> = </span><span style="color:#FE640B;--shiki-dark:#F5A97F">32</span></span></code></pre>
<p>Note the use of app.exe as the context matcher to match the filename of the active program. See the <a href="/Customization/talon-files#context-header">unofficial docs</a> for a full list of available matchers.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="settings">Settings<a href="#settings" class="hash-link" aria-label="Direct link to Settings" title="Direct link to Settings">​</a></h4>
<p><code>key_hold</code> isn&#x27;t the only or necessarily the best setting for your keyboard issue. There are also many other settings for configuring other aspects of Talon&#x27;s behaviour.</p>
<p>settings() blocks can be put in any <code>.talon</code> file and are used to change the value of settings given a matching context header. You can have multiple settings by putting each on its own indented line underneath the &quot;settings():&quot; line. You can include voice commands in the same file as a settings block.</p>
<p>You can paste the following code into the REPL to see a full list of available settings: <code>settings.list()</code>. A list of some of the more useful ones is <a href="/Customization/talon-files#tags-settings-and-other-capabilities">included here</a>. <a href="https://github.com/talonhub/community" target="_blank" rel="noopener noreferrer">Talon Community</a> also has a list of some extra settings it defines in the <code>settings.talon</code> file.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="keyboard-shortcuts">Keyboard shortcuts<a href="#keyboard-shortcuts" class="hash-link" aria-label="Direct link to Keyboard shortcuts" title="Direct link to Keyboard shortcuts">​</a></h3>
<p>You have the ability to set keyboard shortcuts in <code>.talon</code> files. The following <code>.talon</code> file toggles whether Talon is listening to speech when you press the ctrl + t key combination:</p>
<p>key(ctrl-t): speech.toggle()</p>
<p>The shortcut is global since there&#x27;s no context matcher in this <code>.talon</code> file restricting it to a particular application for example. You could replace speech.toggle() with the same types of things that you would use in a voice command.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="overriding-existing-voice-commands">Overriding existing voice commands<a href="#overriding-existing-voice-commands" class="hash-link" aria-label="Direct link to Overriding existing voice commands" title="Direct link to Overriding existing voice commands">​</a></h3>
<p>One thing that may not be immediately obvious is that re-using voice commands is perfectly acceptable. You can just create a new <code>.talon</code> file with a new context header and redefine the command.</p>
<p>This also provides a simple way of overriding the behaviour of existing voice commands from the <a href="https://github.com/talonhub/community" target="_blank" rel="noopener noreferrer">Talon Community</a> user file set. Let&#x27;s say you wanted to change the behaviour of the <code>touch</code> command so that it didn&#x27;t hide the mouse grid if it was open.</p>
<p>The existing code is in a <code>.talon</code> file without a context header called <code>mouse.talon</code>:</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">touch</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    mouse_click</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#FE640B;font-style:italic;--shiki-dark:#F5A97F;--shiki-dark-font-style:italic">0</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"><span style="color:#7C7F93;font-style:italic;--shiki-dark:#939AB7;--shiki-dark-font-style:italic">    # Close the mouse grid if open</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    user</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">grid_close</span><span style="color:#7C7F93;--shiki-dark:#939AB7">()</span></span>
<span class="line"><span style="color:#7C7F93;font-style:italic;--shiki-dark:#939AB7;--shiki-dark-font-style:italic">    # End any open drags</span></span>
<span class="line"><span style="color:#7C7F93;font-style:italic;--shiki-dark:#939AB7;--shiki-dark-font-style:italic">    # Touch automatically ends left drags so this is for right drags specifically</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    user</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">mouse_drag_end</span><span style="color:#7C7F93;--shiki-dark:#939AB7">()</span></span></code></pre>
<p>We can see the <code>user.grid_close()</code> action is called to close the grid after clicking the mouse. Also, note the lines starting with &#x27;#&#x27; characters are called comments. They are just there for documentation and will not be otherwise processed by Talon.</p>
<p>If we wanted to stop the <code>user.grid_close()</code> behaviour we could just create a new <code>.talon</code> file and put in the following contents:</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">os</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">: </span><span style="color:#DF8E1D;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic">mac</span></span>
<span class="line"><span style="color:#4C4F69;--shiki-dark:#CAD3F5">-</span></span>
<span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">touch</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    mouse_click</span><span style="color:#7C7F93;--shiki-dark:#939AB7">(</span><span style="color:#FE640B;font-style:italic;--shiki-dark:#F5A97F;--shiki-dark-font-style:italic">0</span><span style="color:#7C7F93;--shiki-dark:#939AB7">)</span></span>
<span class="line"><span style="color:#7C7F93;font-style:italic;--shiki-dark:#939AB7;--shiki-dark-font-style:italic">    # End any open drags</span></span>
<span class="line"><span style="color:#7C7F93;font-style:italic;--shiki-dark:#939AB7;--shiki-dark-font-style:italic">    # Touch automatically ends left drags so this is for right drags specifically</span></span>
<span class="line"><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">    user</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">mouse_drag_end</span><span style="color:#7C7F93;--shiki-dark:#939AB7">()</span></span></code></pre>
<p>Notice that we&#x27;ve given it a context header. Because this context header is more specific (i.e. it has more rules in it) this implementation of &quot;touch&quot; will take precedence over the original. The implementation just has the <code>user.grid_close()</code> line and associated comment removed.</p>
<p>In general, you can use this technique by just making a version of the <code>.talon</code> file you want to override and putting in more redundant rules to make it the more specific version. In addition to &quot;os: &quot; some other redundant filters you can add are &quot;mode: command&quot; (assuming you want to define the command in the default &#x27;command&#x27; mode) and &quot;speech.engine: wav2letter&quot; (assuming you&#x27;re not using Dragon).</p>
<p>This is a simple way of overriding voice commands using <code>.talon</code> files. Many other parts of the system (such as the behaviour of actions) can also be overridden, but this requires editing <code>.py</code> files.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="finding-what-a-command-does-so-that-you-can-add-a-different-voice-command">Finding what a command does so that you can add a different voice command<a href="#finding-what-a-command-does-so-that-you-can-add-a-different-voice-command" class="hash-link" aria-label="Direct link to Finding what a command does so that you can add a different voice command" title="Direct link to Finding what a command does so that you can add a different voice command">​</a></h3>
<p>Remapping or adding new voice commands for actions like in the above only works if you know what the original command is doing. The easiest way to find that out is <a href="https://talon.wiki/customization/misc-tips/#introspection-functions" target="_blank" rel="noopener noreferrer">using the repl introspection functions</a>.</p>
<p>Opened the repl from the talon menu or by saying &quot;talon open rebel&quot;. This opens up a text console. Type in <code>events.tail()</code>, and press enter. Perform the speech command that you want to know about then look at the final line in the text output. You should see something like &quot;[34911.282] user/community/core/windows_and_tabs/windows_and_tabs_linux.py | action <strong>key(&#x27;ctrl-tab&#x27;)</strong>&quot; - the final part tells you the command that is being used. Sometimes the last line is too specific, and there may be a more generic line further up the list. For example, in the following list, the action &quot;app.tab_previous()&quot; is the generic command, and the others are more specific sub-commands called by the engine to enact that phrase. Figuring out which one is best may require some guesswork and trial and error.</p>
<pre><code>[35424.335] user/community/plugin/command_history/command_history.py | action user.history_transform_phrase_text([&#x27;tab&#x27;, &#x27;previous&#x27;])
[35424.337] user/community/plugin/command_history/command_history.py | action speech.enabled()
[35424.337] user/community/plugin/subtitles/on_phrase.py | action speech.enabled()
[35424.338] user/community/core/windows_and_tabs/tabs.talon | action app.tab_previous()
[35424.338] user/community/core/windows_and_tabs/windows_and_tabs_linux.py | action key(&#x27;ctrl-shift-tab&#x27;)
</code></pre>
<p>You can then add a mapping to that command in a talon file somewhere in your user folder, like</p>
<pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="background-color:#eff1f5;--shiki-dark-bg:#24273a;color:#4c4f69;--shiki-dark:#cad3f5" tabindex="0"><code><span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">os</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">: </span><span style="color:#DF8E1D;font-style:italic;--shiki-dark:#EED49F;--shiki-dark-font-style:italic">mac</span></span>
<span class="line"><span style="color:#4C4F69;--shiki-dark:#CAD3F5">-</span></span>
<span class="line"><span style="color:#1E66F5;--shiki-dark:#8AADF4">tab left</span><span style="color:#4C4F69;--shiki-dark:#CAD3F5">:  </span><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">app</span><span style="color:#7C7F93;--shiki-dark:#939AB7">.</span><span style="color:#1E66F5;font-style:italic;--shiki-dark:#8AADF4;--shiki-dark-font-style:italic">tab_previous</span><span style="color:#7C7F93;--shiki-dark:#939AB7">()</span></span></code></pre></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/TalonCommunity/Wiki/edit/main/docs/Customization/basic_customization.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/Customization/talon-files"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">.talon Files</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#customization-overview" class="table-of-contents__link toc-highlight">Customization overview</a></li><li><a href="#managing-your-customizations" class="table-of-contents__link toc-highlight">Managing your customizations</a><ul><li><a href="#backups" class="table-of-contents__link toc-highlight">Backups</a></li></ul></li><li><a href="#a-simple-talon-file" class="table-of-contents__link toc-highlight">A simple .talon file</a><ul><li><a href="#error-messages" class="table-of-contents__link toc-highlight">Error messages</a></li></ul></li><li><a href="#talon-file-syntax" class="table-of-contents__link toc-highlight">.talon file syntax</a><ul><li><a href="#context-header" class="table-of-contents__link toc-highlight">Context header</a></li><li><a href="#body" class="table-of-contents__link toc-highlight">Body</a></li><li><a href="#actions-in-talon-files" class="table-of-contents__link toc-highlight">Actions in .talon files</a></li></ul></li><li><a href="#recipes" class="table-of-contents__link toc-highlight">Recipes</a><ul><li><a href="#add-new-keyboard-shortcuts" class="table-of-contents__link toc-highlight">Add new keyboard shortcuts</a></li><li><a href="#slow-down-key-presses" class="table-of-contents__link toc-highlight">Slow down key presses</a></li><li><a href="#keyboard-shortcuts" class="table-of-contents__link toc-highlight">Keyboard shortcuts</a></li><li><a href="#overriding-existing-voice-commands" class="table-of-contents__link toc-highlight">Overriding existing voice commands</a></li><li><a href="#finding-what-a-command-does-so-that-you-can-add-a-different-voice-command" class="table-of-contents__link toc-highlight">Finding what a command does so that you can add a different voice command</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Talon Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://talonvoice.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://talonvoice.com/chat" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/TalonCommunity/Wiki/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.patreon.com/join/lunixbochs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Donations/Beta Access<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Talon Community. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>